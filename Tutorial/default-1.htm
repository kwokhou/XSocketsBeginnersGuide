<!DOCTYPE html>
<html>
<head>
    <title></title>
    <!-- Added references to jQuery & XSockets - NOTE: did not add the fallback for IE //-->
    <script src="Scripts/jquery-1.7.2.js" type="text/javascript"></script>
    <script src="Scripts/jXSockets.2.0.3.js" type="text/javascript"></script>
    
    <script>

        //A variable for the websocket connection
        var ws = null;
        
        //This tells us that the document is ready... So in there we create our XSockets stuff
        $(function () {

            //We connect to localhost and the port 4502 (default).
            //We also say that the controller is named GeoLocation.
            //All this can be setup in the configuration to run on another machine, allow certain origins etc.
            ws = new XSockets.WebSocket("ws://127.0.0.1:4502/GeoLocation");

            //Listen (subscribe/bind) for the predefined open event
            ws.bind(XSockets.Events.open, function (client) {
                //Just write the info to the console (view it with ctrl+shift+j in chrome) 
                console.log('Connected', client);
            });

            //We also listen for any errors
            ws.bind(XSockets.Events.onError, function(err) {                
                console.log('Error', err);
            });
        });

    </script>
</head>
<body>
    
</body>
</html>
